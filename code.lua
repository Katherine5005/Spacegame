__lua__
// the inital speed of the ship.
spd = 2

--------*

// is called when the "run"
// command is entered.
function _init()
  cls()
  // the initial center point.
  c   = {x=64,
         y=64}
  // player starting point.
  p1  = {x=c.x,
         y=c.y,
         point=3}
  // used to calculate camera
  // position.
  cam = {x=p1.x,
         y=p1.y}
end

// is called when the buttons
// are pressed.
function _update()
		key_left  = 0
		key_right = 1
		key_down  = 2
		key_up    = 3
		
		// a boundary, of sorts.
		if (p1.x < 0)
		then p1.x += spd end
  if (p1.x > map_celw*8-8)
  then p1.x -= spd end
  if (p1.y < 0) 
  then p1.y += spd end
  if (p1.y > map_celh*8-8) 
  then p1.y -= spd	end

  // directional navigation.
  if (btn(key_left)) then
     p1.x += -spd
     point = 0 --end  
  elseif (btn(key_right)) then 
     p1.x += spd
     point = 1 --end  
  elseif (btn(key_down)) then 
     p1.y += -spd
     point = 3 --end  
  elseif (btn(key_up)) then 
     p1.y += spd
     point = 2
  end
  
  // updates the camera pos
  // when the player moves.
  cam.x = p1.x - c.x
  cam.y = p1.y - c.y
end

// the real (x,y) size of the
// map is the following,
// multiplied by 8.
map_celw = 128
map_celh = map_celw/2

// called every... "tick"?
// used to draw the screen.
function _draw()
  // clears the screen, to 
  // prevent artifacts.
  cls()
  // moves the camera along
  // with the player's position.
  camera(cam.x, cam.y)
  // drawing the map.
  map(0,0,0,0,map_celw,map_celh)
  --drawlevel(level_mercury)
  // drawing the p1 ship.
  spr(point,p1.x,p1.y)
end

-->8
function drawlevel(level)
  for x=1, #level do
    for y=1, #level do
      spr(level[x][y],
         (x-1)*8,
         (y-1)*8)
    end
  end
end

function loadlevel(level)
end

level_mercury = {
 {48,48,48,48,48,48,48,48},
 {48,48,48,48,48,48,48,48},
 {48,48,48,48,48,48,48,48},
 {48,48,48,48,48,48,48,49},
 {48,48,48,48,48,48,49,48},
 {48,48,48,48,48,48,49,48},
 {48,48,48,48,49,49,48,48},
 {48,48,48,48,49,48,49,48},
}

--function 
--level_mars = mset(20, 20, 33)
--end
--hex code: 0123456789adcdef (12 is c, for example)

__gfx__
00000000000000000007700000077000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000000000
00770000000077000007700000777700000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000000000
07770000000077700007700007777770000000000000000000000000006060000000000000000000000000000000000000000000000000000000000000000000
77777777777777770007700007777770000000000000000000000000006660000000000000000000000000000000000000000000000000000000000000000000
77777777777777770777777000077000000000000000000000000000000600000000000000555000000000000000000000000000000000000000000000000000
07770000000077700777777000077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00770000000077000077770000077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000007700000077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
11cccc11111111110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1ccc33c1111881110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
cccc333c118888110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
cc3ccccc188888810000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
c333cc3c188888810000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
c33c333c118888110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1c3ccc31111881110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
11cccc11111111110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
11111111111111111111111111111111000000000000000000000000000000000000000000000000000000000000000000000000000000001111111111111111
11111111111111711111171111111111000000000000000000000000000000000000000000000000000000000000000000000000000000001111d4111111c111
111111111111111111a11111111181110000000000000000000000000000000000000000000000000000000000000000000000000000000011544541111c7c11
11111111171111111111111111111111000000000000000000000000000000000000000000000000000000000000000000000000000000001444444111c777c1
1111111111111111111111111111171100000000000000000000000000000000000000000000000000000000000000000000000000000000144d4541111c7c11
1111111111111111111111111111111100000000000000000000000000000000000000000000000000000000000000000000000000000000145444111111c111
11111111111111111711111117111111000000000000000000000000000000000000000000000000000000000000000000000000000000001144111111111111
11111111111711111111111111111111000000000000000000000000000000000000000000000000000000000000000000000000000000001111111111111111
__map__
30303030313030303030303e303e303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
30303030303030303f3030303e3e3e3000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
303020303030303030303130303e3e3000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
30303030303030303031303030303e3e00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
30303030303030323231303031303e3e00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
30303030303032303031303030303e3e00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3030313032323030303130303030303e00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3030303232303033313030303f30303e00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3030303230303030313030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
01010000390003700036000340003300032000310002f0002e0002d0002b0002900027000250002300021000200001f0001d0001d0001c0001c0001b0001a0001900019000170001700016000150001400012000
010100000f0431204315043180531b0531e0532005324053280532805326050240502500324003240032400323003000000000000000000000000000000000000000000000000000000000000000000000000000
0010000016650326502d65023650186401662214610210001f00016600326002d60023600186000d6000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
011300161b7301e7301e7301d7301b730187301a7301c7301e7301f7302073023730217301e7301d7301b730187301a5301c5201e520187201b520151000f1000b10008100071000b100131001e100231002e100
001000001b750357501f7501775014750147500000015750000001475000000000001475000000157501575014750157501675017750177501775017750000000000000000000000000000000000000000000000
00100000180551a0551c0552405024040240302402024010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__music__
00 01024344
00 41420344
